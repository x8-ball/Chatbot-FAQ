<html>
<head>
<title>Chatbot Robi</title>
<link rel="stylesheet" href="sprechblase.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<link rel="stylesheet" href="/static/sprechblase.css">
</head>

<body>

<script type="text/javascript">
<<<<<<< Updated upstream
var socket = io.connect('http://{{adress}}:5000');
=======
var socket = io.connect('http://127.0.0.1:5000 ');
>>>>>>> Stashed changes
var robi = 'bunt';

function changeRobi(){
	var image = document.getElementById("robi");
	if(robi.localeCompare('bunt')){
		image.src = "/static/robi.jpg";
		robi = 'weiss';
	}
	else{
		image.src = "/static/robi_bunt.jpg";
		robi = 'bunt';
	}
}
$(document).ready(function() {
	//empfange message und h√§nge diese an messages an
	socket.on('message', function(msg) {
		if(msg.answer){
			changeRobi();
			var appendum = '<dd>'+ msg.answer +'</dd>';
			$("#messages").append(appendum);
		}
	});
	//sende Nachricht und resette danach fenster von myMessage
	$('#sendbutton').on('click', function() {
		var message = {
			"text" : $('#myMessage').val(),
			"type" : "question"
		};
		if(message){
			socket.send(message);
			//$("#messages").append('<dt>'+message.text+'</dt>');
			$('#myMessage').val('');
			console.log("Sent " + message);
		}
		else{
			console.log("bitte gib doch eine nachricht ein")
		}
	});
});
</script>


 <img id="img1" src="robi1.png" alt="Chatbot" width="500" height=auto ><nobr></nobr>
 <img id="img2" src="robi2.png" alt="Chatbot" width="500" height=auto style="visibility:hidden">
 <script type="text/javascript">
      function tend() {
        document.getElementById('img1').style.visibility='hidden';
		document.getElementById('img2').style.visibility='visible';
      }
    </script>
 
 <div id="sprechblase">
   <h4> Hallo, ich bin Robi. </h4>
   <dl widht=300px id="messages">
   </dl>

   <input type="hidden" id="message">
   <input type="hidden" id="sendbutton" onclick="tend()" value="back">
 </div>
 
 <div id="eingabefeld">
   <input type="text" id="myMessage" placeholder="Frage hier eintippen">
   <button id="sendbutton" onclick="tend()" value="back">Send</button>
 </div>

 <div id="sprechblase:before"> 
 </div>

 <div id="sprechblase:after">
 </div>

</body>
</html>